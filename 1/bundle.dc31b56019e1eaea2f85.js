(()=>{var e={10:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(537),a=n.n(i),s=n(645),o=n.n(s)()(a());o.push([e.id,".shake {\n  animation: shake 0.6s;\n  position: relative;\n  z-index: 10;\n}\n\n@keyframes shake {\n  0%,\n  100% {\n    transform: translateX(0);\n  }\n\n  10%,\n  30%,\n  50%,\n  70%,\n  90% {\n    transform: translateX(-5px);\n  }\n\n  20%,\n  40%,\n  60%,\n  80% {\n    transform: translateX(5px);\n  }\n}\n","",{version:3,sources:["webpack://./src/framework/view/abstract-view.css"],names:[],mappings:"AAAA;EACE,qBAAqB;EACrB,kBAAkB;EAClB,WAAW;AACb;;AAEA;EACE;;IAEE,wBAAwB;EAC1B;;EAEA;;;;;IAKE,2BAA2B;EAC7B;;EAEA;;;;IAIE,0BAA0B;EAC5B;AACF",sourcesContent:[".shake {\n  animation: shake 0.6s;\n  position: relative;\n  z-index: 10;\n}\n\n@keyframes shake {\n  0%,\n  100% {\n    transform: translateX(0);\n  }\n\n  10%,\n  30%,\n  50%,\n  70%,\n  90% {\n    transform: translateX(-5px);\n  }\n\n  20%,\n  40%,\n  60%,\n  80% {\n    transform: translateX(5px);\n  }\n}\n"],sourceRoot:""}]);const r=o},645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",i=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),i&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),i&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,i,a,s){"string"==typeof e&&(e=[[null,e,void 0]]);var o={};if(i)for(var r=0;r<this.length;r++){var l=this[r][0];null!=l&&(o[l]=!0)}for(var c=0;c<e.length;c++){var d=[].concat(e[c]);i&&o[d[0]]||(void 0!==s&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=s),n&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=n):d[2]=n),a&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=a):d[4]="".concat(a)),t.push(d))}},t}},537:e=>{"use strict";e.exports=function(e){var t=e[1],n=e[3];if(!n)return t;if("function"==typeof btoa){var i=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),a="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(i),s="/*# ".concat(a," */");return[t].concat([s]).join("\n")}return[t].join("\n")}},484:function(e){e.exports=function(){"use strict";var e=6e4,t=36e5,n="millisecond",i="second",a="minute",s="hour",o="day",r="week",l="month",c="quarter",d="year",m="date",u="Invalid Date",h=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,f=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,p={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"}},_=function(e,t,n){var i=String(e);return!i||i.length>=t?e:""+Array(t+1-i.length).join(n)+e},v={s:_,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),i=Math.floor(n/60),a=n%60;return(t<=0?"+":"-")+_(i,2,"0")+":"+_(a,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var i=12*(n.year()-t.year())+(n.month()-t.month()),a=t.clone().add(i,l),s=n-a<0,o=t.clone().add(i+(s?-1:1),l);return+(-(i+(n-a)/(s?a-o:o-a))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:l,y:d,w:r,d:o,D:m,h:s,m:a,s:i,ms:n,Q:c}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},g="en",y={};y[g]=p;var w=function(e){return e instanceof $},b=function e(t,n,i){var a;if(!t)return g;if("string"==typeof t){var s=t.toLowerCase();y[s]&&(a=s),n&&(y[s]=n,a=s);var o=t.split("-");if(!a&&o.length>1)return e(o[0])}else{var r=t.name;y[r]=t,a=r}return!i&&a&&(g=a),a||!i&&g},C=function(e,t){if(w(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new $(n)},M=v;M.l=b,M.i=w,M.w=function(e,t){return C(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var $=function(){function p(e){this.$L=b(e.locale,null,!0),this.parse(e)}var _=p.prototype;return _.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(M.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var i=t.match(h);if(i){var a=i[2]-1||0,s=(i[7]||"0").substring(0,3);return n?new Date(Date.UTC(i[1],a,i[3]||1,i[4]||0,i[5]||0,i[6]||0,s)):new Date(i[1],a,i[3]||1,i[4]||0,i[5]||0,i[6]||0,s)}}return new Date(t)}(e),this.$x=e.x||{},this.init()},_.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},_.$utils=function(){return M},_.isValid=function(){return!(this.$d.toString()===u)},_.isSame=function(e,t){var n=C(e);return this.startOf(t)<=n&&n<=this.endOf(t)},_.isAfter=function(e,t){return C(e)<this.startOf(t)},_.isBefore=function(e,t){return this.endOf(t)<C(e)},_.$g=function(e,t,n){return M.u(e)?this[t]:this.set(n,e)},_.unix=function(){return Math.floor(this.valueOf()/1e3)},_.valueOf=function(){return this.$d.getTime()},_.startOf=function(e,t){var n=this,c=!!M.u(t)||t,u=M.p(e),h=function(e,t){var i=M.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return c?i:i.endOf(o)},f=function(e,t){return M.w(n.toDate()[e].apply(n.toDate("s"),(c?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},p=this.$W,_=this.$M,v=this.$D,g="set"+(this.$u?"UTC":"");switch(u){case d:return c?h(1,0):h(31,11);case l:return c?h(1,_):h(0,_+1);case r:var y=this.$locale().weekStart||0,w=(p<y?p+7:p)-y;return h(c?v-w:v+(6-w),_);case o:case m:return f(g+"Hours",0);case s:return f(g+"Minutes",1);case a:return f(g+"Seconds",2);case i:return f(g+"Milliseconds",3);default:return this.clone()}},_.endOf=function(e){return this.startOf(e,!1)},_.$set=function(e,t){var r,c=M.p(e),u="set"+(this.$u?"UTC":""),h=(r={},r[o]=u+"Date",r[m]=u+"Date",r[l]=u+"Month",r[d]=u+"FullYear",r[s]=u+"Hours",r[a]=u+"Minutes",r[i]=u+"Seconds",r[n]=u+"Milliseconds",r)[c],f=c===o?this.$D+(t-this.$W):t;if(c===l||c===d){var p=this.clone().set(m,1);p.$d[h](f),p.init(),this.$d=p.set(m,Math.min(this.$D,p.daysInMonth())).$d}else h&&this.$d[h](f);return this.init(),this},_.set=function(e,t){return this.clone().$set(e,t)},_.get=function(e){return this[M.p(e)]()},_.add=function(n,c){var m,u=this;n=Number(n);var h=M.p(c),f=function(e){var t=C(u);return M.w(t.date(t.date()+Math.round(e*n)),u)};if(h===l)return this.set(l,this.$M+n);if(h===d)return this.set(d,this.$y+n);if(h===o)return f(1);if(h===r)return f(7);var p=(m={},m[a]=e,m[s]=t,m[i]=1e3,m)[h]||1,_=this.$d.getTime()+n*p;return M.w(_,this)},_.subtract=function(e,t){return this.add(-1*e,t)},_.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||u;var i=e||"YYYY-MM-DDTHH:mm:ssZ",a=M.z(this),s=this.$H,o=this.$m,r=this.$M,l=n.weekdays,c=n.months,d=function(e,n,a,s){return e&&(e[n]||e(t,i))||a[n].slice(0,s)},m=function(e){return M.s(s%12||12,e,"0")},h=n.meridiem||function(e,t,n){var i=e<12?"AM":"PM";return n?i.toLowerCase():i},p={YY:String(this.$y).slice(-2),YYYY:this.$y,M:r+1,MM:M.s(r+1,2,"0"),MMM:d(n.monthsShort,r,c,3),MMMM:d(c,r),D:this.$D,DD:M.s(this.$D,2,"0"),d:String(this.$W),dd:d(n.weekdaysMin,this.$W,l,2),ddd:d(n.weekdaysShort,this.$W,l,3),dddd:l[this.$W],H:String(s),HH:M.s(s,2,"0"),h:m(1),hh:m(2),a:h(s,o,!0),A:h(s,o,!1),m:String(o),mm:M.s(o,2,"0"),s:String(this.$s),ss:M.s(this.$s,2,"0"),SSS:M.s(this.$ms,3,"0"),Z:a};return i.replace(f,(function(e,t){return t||p[e]||a.replace(":","")}))},_.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},_.diff=function(n,m,u){var h,f=M.p(m),p=C(n),_=(p.utcOffset()-this.utcOffset())*e,v=this-p,g=M.m(this,p);return g=(h={},h[d]=g/12,h[l]=g,h[c]=g/3,h[r]=(v-_)/6048e5,h[o]=(v-_)/864e5,h[s]=v/t,h[a]=v/e,h[i]=v/1e3,h)[f]||v,u?g:M.a(g)},_.daysInMonth=function(){return this.endOf(l).$D},_.$locale=function(){return y[this.$L]},_.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),i=b(e,t,!0);return i&&(n.$L=i),n},_.clone=function(){return M.w(this.$d,this)},_.toDate=function(){return new Date(this.valueOf())},_.toJSON=function(){return this.isValid()?this.toISOString():null},_.toISOString=function(){return this.$d.toISOString()},_.toString=function(){return this.$d.toUTCString()},p}(),D=$.prototype;return C.prototype=D,[["$ms",n],["$s",i],["$m",a],["$H",s],["$W",o],["$M",l],["$y",d],["$D",m]].forEach((function(e){D[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),C.extend=function(e,t){return e.$i||(e(t,$,C),e.$i=!0),C},C.locale=b,C.isDayjs=w,C.unix=function(e){return C(1e3*e)},C.en=y[g],C.Ls=y,C.p={},C}()},379:e=>{"use strict";var t=[];function n(e){for(var n=-1,i=0;i<t.length;i++)if(t[i].identifier===e){n=i;break}return n}function i(e,i){for(var s={},o=[],r=0;r<e.length;r++){var l=e[r],c=i.base?l[0]+i.base:l[0],d=s[c]||0,m="".concat(c," ").concat(d);s[c]=d+1;var u=n(m),h={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==u)t[u].references++,t[u].updater(h);else{var f=a(h,i);i.byIndex=r,t.splice(r,0,{identifier:m,updater:f,references:1})}o.push(m)}return o}function a(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,a){var s=i(e=e||[],a=a||{});return function(e){e=e||[];for(var o=0;o<s.length;o++){var r=n(s[o]);t[r].references--}for(var l=i(e,a),c=0;c<s.length;c++){var d=n(s[c]);0===t[d].references&&(t[d].updater(),t.splice(d,1))}s=l}}},569:e=>{"use strict";var t={};e.exports=function(e,n){var i=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(n)}},216:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,n)=>{"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},795:e=>{"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var i="";n.supports&&(i+="@supports (".concat(n.supports,") {")),n.media&&(i+="@media ".concat(n.media," {"));var a=void 0!==n.layer;a&&(i+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),i+=n.css,a&&(i+="}"),n.media&&(i+="}"),n.supports&&(i+="}");var s=n.sourceMap;s&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),t.styleTagTransform(i,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function n(i){var a=t[i];if(void 0!==a)return a.exports;var s=t[i]={id:i,exports:{}};return e[i].call(s.exports,s,s.exports,n),s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.nc=void 0,(()=>{"use strict";var e=n(379),t=n.n(e),i=n(795),a=n.n(i),s=n(569),o=n.n(s),r=n(565),l=n.n(r),c=n(216),d=n.n(c),m=n(589),u=n.n(m),h=n(10),f={};f.styleTagTransform=u(),f.setAttributes=l(),f.insert=o().bind(null,"head"),f.domAPI=a(),f.insertStyleElement=d(),t()(h.Z,f),h.Z&&h.Z.locals&&h.Z.locals;const p="shake";class _{#e=null;constructor(){if(new.target===_)throw new Error("Can't instantiate AbstractView, only concrete one.")}get element(){return this.#e||(this.#e=function(e){const t=document.createElement("div");return t.innerHTML=e,t.firstElementChild}(this.template)),this.#e}get template(){throw new Error("Abstract method not implemented: get template")}removeElement(){this.#e=null}shake(e){this.element.classList.add(p),setTimeout((()=>{this.element.classList.remove(p),e?.()}),600)}}function v(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"beforeend";if(!(e instanceof _))throw new Error("Can render only components");if(null===t)throw new Error("Container element doesn't exist");t.insertAdjacentElement(n,e.element)}function g(e){if(null!==e){if(!(e instanceof _))throw new Error("Can remove only components");e.element.remove(),e.removeElement()}}class y extends _{get template(){return"\n    <p>130 291 movies inside</p>\n  "}}class w extends _{get template(){return'\n    <section class="header__profile profile">\n      <p class="profile__rating">Movie Buff</p>\n      <img class="profile__avatar" src="images/bitmap@2x.png" alt="Avatar" width="35" height="35">\n    </section>\n  '}}var b=n(484),C=n.n(b);const M="YYYY",$="DD MMMM YYYY",D=60;function A(e){return e===D?"1h":e>D?`${Math.floor(e/D)}h ${e%D}m`:`${e}m`}class T extends _{#t=null;#n=null;constructor(e){let{movie:t,onMoreDetailClick:n}=e;super(),this.#t=t,this.#n=n,this.element.addEventListener("click",this.#i)}get template(){return function(e){const{filmInfo:t,userDetails:n}=e,i=n.watchlist?"film-card__controls-item--active":"",a=n.alreadyWatched?"film-card__controls-item--active":"",s=n.favorite?"film-card__controls-item--active":"";return`\n    <article class="film-card">\n      <a class="film-card__link">\n        <h3 class="film-card__title">${t.title}</h3>\n        <p class="film-card__rating">${t.totalRating}</p>\n        <p class="film-card__info">\n          <span class="film-card__year">${o=t.releaseData.releaseDate,o?C()(o).format(M):""}</span>\n          <span class="film-card__duration">${A(t.duration)}</span>\n          <span class="film-card__genre">${t.genre}</span>\n        </p>\n        <img src="./${t.poster}" alt="${t.alternativeTitle}" class="film-card__poster">\n        <p class="film-card__description">${t.description}</p>\n        <span class="film-card__comments">0 comments</span>\n      </a>\n      <div class="film-card__controls">\n        <button class="film-card__controls-item film-card__controls-item--add-to-watchlist ${i}" type="button">Add to watchlist</button>\n        <button class="film-card__controls-item film-card__controls-item--mark-as-watched ${a}" type="button">Mark as watched</button>\n        <button class="film-card__controls-item film-card__controls-item--favorite ${s}" type="button">Mark as favorite</button>\n      </div>\n    </article>\n  `;var o}(this.#t)}#i=e=>{e.preventDefault(),this.#n()}}class S extends _{#t=null;constructor(e){let{movie:t}=e;super(),this.#t=t}get template(){return function(e){const{filmInfo:t,userDetails:n}=e,i=t.genre.map((e=>`<span class="film-details__genre">${e}</span>`)).join(""),a=n.watchlist?"film-details__control-button--active":"",s=n.alreadyWatched?"film-details__control-button--active":"",o=n.favorite?"film-details__control-button--active":"";return`\n    <section class="film-details">\n      <div class="film-details__inner">\n        <div class="film-details__top-container">\n          <div class="film-details__close">\n            <button class="film-details__close-btn" type="button">close</button>\n          </div>\n          <div class="film-details__info-wrap">\n            <div class="film-details__poster">\n              <img class="film-details__poster-img" src="./${t.poster}" alt="${t.alternativeTitle}">\n    \n              <p class="film-details__age">18+</p>\n            </div>\n    \n            <div class="film-details__info">\n              <div class="film-details__info-head">\n                <div class="film-details__title-wrap">\n                  <h3 class="film-details__title">${t.title}</h3>\n                  <p class="film-details__title-original">Original: ${t.alternativeTitle}</p>\n                </div>\n    \n                <div class="film-details__rating">\n                  <p class="film-details__total-rating">${t.totalRating}</p>\n                </div>\n              </div>\n    \n              <table class="film-details__table">\n                <tr class="film-details__row">\n                  <td class="film-details__term">Director</td>\n                  <td class="film-details__cell">${t.director}</td>\n                </tr>\n                <tr class="film-details__row">\n                  <td class="film-details__term">Writers</td>\n                  <td class="film-details__cell">${t.writers}</td>\n                </tr>\n                <tr class="film-details__row">\n                  <td class="film-details__term">Actors</td>\n                  <td class="film-details__cell">${t.actors}</td>\n                </tr>\n                <tr class="film-details__row">\n                  <td class="film-details__term">Release Date</td>\n                  <td class="film-details__cell">${r=t.releaseData.releaseDate,r?C()(r).format($):""}</td>\n                </tr>\n                <tr class="film-details__row">\n                  <td class="film-details__term">Duration</td>\n                  <td class="film-details__cell">${A(t.duration)}</td>\n                </tr>\n                <tr class="film-details__row">\n                  <td class="film-details__term">Country</td>\n                  <td class="film-details__cell">${t.releaseData.releaseCountry}</td>\n                </tr>\n                <tr class="film-details__row">\n                  <td class="film-details__term">Genres</td>\n                  <td class="film-details__cell">${i}</td>\n                </tr>\n              </table>\n    \n              <p class="film-details__film-description">${t.description}</p>\n            </div>\n          </div>\n    \n          <section class="film-details__controls">\n            <button type="button" class="film-details__control-button film-details__control-button--watchlist ${a}" id="watchlist" name="watchlist">Add to watchlist</button>\n            <button type="button" class="film-details__control-button film-details__control-button--watched ${s}" id="watched" name="watched">Already watched</button>\n            <button type="button" class="film-details__control-button film-details__control-button--favorite ${o}" id="favorite" name="favorite">Add to favorites</button>\n          </section>\n        </div>\n    \n        <div class="film-details__bottom-container">\n          <section class="film-details__comments-wrap">\n            <h3 class="film-details__comments-title">Comments <span class="film-details__comments-count">4</span></h3>\n    \n            <ul class="film-details__comments-list">\n              <li class="film-details__comment">\n                <span class="film-details__comment-emoji">\n                  <img src="./images/emoji/smile.png" width="55" height="55" alt="emoji-smile">\n                </span>\n                <div>\n                  <p class="film-details__comment-text">Interesting setting and a good cast</p>\n                  <p class="film-details__comment-info">\n                    <span class="film-details__comment-author">Tim Macoveev</span>\n                    <span class="film-details__comment-day">2019/12/31 23:59</span>\n                    <button class="film-details__comment-delete">Delete</button>\n                  </p>\n                </div>\n              </li>\n              <li class="film-details__comment">\n                <span class="film-details__comment-emoji">\n                  <img src="./images/emoji/sleeping.png" width="55" height="55" alt="emoji-sleeping">\n                </span>\n                <div>\n                  <p class="film-details__comment-text">Booooooooooring</p>\n                  <p class="film-details__comment-info">\n                    <span class="film-details__comment-author">John Doe</span>\n                    <span class="film-details__comment-day">2 days ago</span>\n                    <button class="film-details__comment-delete">Delete</button>\n                  </p>\n                </div>\n              </li>\n              <li class="film-details__comment">\n                <span class="film-details__comment-emoji">\n                  <img src="./images/emoji/puke.png" width="55" height="55" alt="emoji-puke">\n                </span>\n                <div>\n                  <p class="film-details__comment-text">Very very old. Meh</p>\n                  <p class="film-details__comment-info">\n                    <span class="film-details__comment-author">John Doe</span>\n                    <span class="film-details__comment-day">2 days ago</span>\n                    <button class="film-details__comment-delete">Delete</button>\n                  </p>\n                </div>\n              </li>\n              <li class="film-details__comment">\n                <span class="film-details__comment-emoji">\n                  <img src="./images/emoji/angry.png" width="55" height="55" alt="emoji-angry">\n                </span>\n                <div>\n                  <p class="film-details__comment-text">Almost two hours? Seriously?</p>\n                  <p class="film-details__comment-info">\n                    <span class="film-details__comment-author">John Doe</span>\n                    <span class="film-details__comment-day">Today</span>\n                    <button class="film-details__comment-delete">Delete</button>\n                  </p>\n                </div>\n              </li>\n            </ul>\n    \n            <form class="film-details__new-comment" action="" method="get">\n              <div class="film-details__add-emoji-label"></div>\n    \n              <label class="film-details__comment-label">\n                <textarea class="film-details__comment-input" placeholder="Select reaction below and write comment here" name="comment"></textarea>\n              </label>\n    \n              <div class="film-details__emoji-list">\n                <input class="film-details__emoji-item visually-hidden" name="comment-emoji" type="radio" id="emoji-smile" value="smile">\n                <label class="film-details__emoji-label" for="emoji-smile">\n                  <img src="./images/emoji/smile.png" width="30" height="30" alt="emoji">\n                </label>\n    \n                <input class="film-details__emoji-item visually-hidden" name="comment-emoji" type="radio" id="emoji-sleeping" value="sleeping">\n                <label class="film-details__emoji-label" for="emoji-sleeping">\n                  <img src="./images/emoji/sleeping.png" width="30" height="30" alt="emoji">\n                </label>\n    \n                <input class="film-details__emoji-item visually-hidden" name="comment-emoji" type="radio" id="emoji-puke" value="puke">\n                <label class="film-details__emoji-label" for="emoji-puke">\n                  <img src="./images/emoji/puke.png" width="30" height="30" alt="emoji">\n                </label>\n    \n                <input class="film-details__emoji-item visually-hidden" name="comment-emoji" type="radio" id="emoji-angry" value="angry">\n                <label class="film-details__emoji-label" for="emoji-angry">\n                  <img src="./images/emoji/angry.png" width="30" height="30" alt="emoji">\n                </label>\n              </div>\n            </form>\n          </section>\n        </div>\n      </div>\n    </section>\n  `;var r}(this.#t)}getClosePopupButton(){return this.element.querySelector(".film-details__close-btn")}}const k="DEFAULT";class j{#t=null;#a=k;#s=null;#o=null;#r=null;#l=null;#c=null;constructor(e){let{movieContainer:t,moviesBodyContainer:n,onModeChange:i}=e;this.#o=t,this.#r=n,this.#s=i}init(e){this.#t=e,this.#l=new T({movie:this.#t,onMoreDetailClick:this.#d}),this.#c=new S({movie:this.#t}),v(this.#l,this.#o)}#m(){v(this.#c,this.#r),this.#c.getClosePopupButton().addEventListener("click",this.#u),document.addEventListener("keydown",this.#h),this.#s(),this.#a="DETAILS"}#f(){this.#c.getClosePopupButton().removeEventListener("click",this.#u),document.removeEventListener("keydown",this.#h),g(this.#c),this.#a=k}#d=()=>{this.#m()};#h=e=>{"Escape"===e.key&&(e.preventDefault(),this.#f())};#u=e=>{"click"===e.type&&(e.preventDefault(),this.#f())};resetView(){this.#a!==k&&this.#f()}}class L extends _{get template(){return'\n    <ul class="sort">\n      <li><a href="#" class="sort__button sort__button--active">Sort by default</a></li>\n      <li><a href="#" class="sort__button">Sort by date</a></li>\n      <li><a href="#" class="sort__button">Sort by rating</a></li>\n    </ul>\n  '}}class E extends _{get template(){return'\n    <nav class="main-navigation">\n      <a href="#all" class="main-navigation__item main-navigation__item--active">All movies</a>\n      <a href="#watchlist" class="main-navigation__item">Watchlist <span class="main-navigation__item-count">13</span></a>\n      <a href="#history" class="main-navigation__item">History <span class="main-navigation__item-count">4</span></a>\n      <a href="#favorites" class="main-navigation__item">Favorites <span class="main-navigation__item-count">8</span></a>\n    </nav>\n  '}}class x extends _{get template(){return'\n    <section class="films-list">\n      <h2 class="films-list__title visually-hidden">All movies. Upcoming</h2>\n      <div class="films-list__container"></div>\n    </section>\n  '}getFilmCardContainer(){return this.element.querySelector(".films-list__container")}}class B extends _{#p=null;constructor(e){let{onClick:t}=e;super(),this.#p=t,this.element.addEventListener("click",this.#_)}get template(){return'\n    <button class="films-list__show-more">Show more</button>\n  '}#_=e=>{e.preventDefault(),this.#p()}}class O extends _{get template(){return'\n    <section class="films-list">\n      <h2 class="films-list__title">There are no movies in our database</h2>\n    </section>\n  '}}const P=[{id:"d9ee14cd-c0ca-4eab-8088-2219a0dbdc01",comment:"A film that changed my life, a true masterpiece, post-credit scene was just amazing omg.",emotion:"smile",author:"Ilya OReilly",date:"2022-11-26T16:12:32.554Z"},{id:"d9ee14cd-c0ca-4eab-8088-2219a0dbdc02",comment:"A film that changed my life, a true masterpiece, post-credit scene was just amazing omg.",emotion:"smile",author:"Ilya OReilly",date:"2022-11-26T16:12:32.554Z"},{id:"d9ee14cd-c0ca-4eab-8088-2219a0dbdc03",comment:"A film that changed my life, a true masterpiece, post-credit scene was just amazing omg.",emotion:"smile",author:"Ilya OReilly",date:"2022-11-26T16:12:32.554Z"},{id:"d9ee14cd-c0ca-4eab-8088-2219a0dbdc04",comment:"A film that changed my life, a true masterpiece, post-credit scene was just amazing omg.",emotion:"smile",author:"Ilya OReilly",date:"2022-11-26T16:12:32.554Z"},{id:"d9ee14cd-c0ca-4eab-8088-2219a0dbdc05",comment:"A film that changed my life, a true masterpiece, post-credit scene was just amazing omg.",emotion:"smile",author:"Ilya OReilly",date:"2022-11-26T16:12:32.554Z"},{id:"d9ee14cd-c0ca-4eab-8088-2219a0dbdc06",comment:"A film that changed my life, a true masterpiece, post-credit scene was just amazing omg.",emotion:"smile",author:"Ilya OReilly",date:"2022-11-26T16:12:32.554Z"}],F=[{id:"d9ee14cd-c0ca-4eab-8088-2219a0dbdc001",comments:["d9ee14cd-c0ca-4eab-8088-2219a0dbdc01"],film_info:{title:"A Little Pony Without The Carpet",alternative_title:"Laziness Who Sold Themselves",description:"Oscar-winning film, a war drama about two young people, from the creators of timeless classic Nu Pogodi! and Alice in Wonderland, with the best fight scenes since Bruce Lee.",total_rating:5.3,poster:"images/posters/popeye-meets-sinbad.png",age_rating:0,director:"Tom Ford",writers:["Takeshi Kitano"],actors:["Morgan Freeman"],genre:["Comedy","Drama"],duration:77,release:{date:"2019-05-11T00:00:00.000Z",release_country:"Finland"}},user_details:{watchlist:!1,already_watched:!0,watching_date:"2022-11-26T16:12:32.554Z",favorite:!1}},{id:"d9ee14cd-c0ca-4eab-8088-2219a0dbdc002",comments:["d9ee14cd-c0ca-4eab-8088-2219a0dbdc02"],film_info:{title:"A Little Pony Without The Carpet",alternative_title:"Laziness Who Sold Themselves",description:"Oscar-winning film, a war drama about two young people, from the creators of timeless classic Nu Pogodi! and Alice in Wonderland, with the best fight scenes since Bruce Lee.",total_rating:5.3,poster:"images/posters/made-for-each-other.png",age_rating:0,director:"Tom Ford",writers:["Takeshi Kitano"],actors:["Morgan Freeman"],genre:["Comedy"],duration:59,release:{date:"2019-05-11T00:00:00.000Z",release_country:"Finland"}},user_details:{watchlist:!1,already_watched:!0,watching_date:"2022-11-26T16:12:32.554Z",favorite:!1}},{id:"d9ee14cd-c0ca-4eab-8088-2219a0dbdc003",comments:["d9ee14cd-c0ca-4eab-8088-2219a0dbdc03"],film_info:{title:"A Little Pony Without The Carpet",alternative_title:"Laziness Who Sold Themselves",description:"Oscar-winning film, a war drama about two young people, from the creators of timeless classic Nu Pogodi! and Alice in Wonderland, with the best fight scenes since Bruce Lee.",total_rating:5.3,poster:"images/posters/sagebrush-trail.jpg",age_rating:0,director:"Tom Ford",writers:["Takeshi Kitano"],actors:["Morgan Freeman"],genre:["Comedy"],duration:129,release:{date:"2019-05-11T00:00:00.000Z",release_country:"Finland"}},user_details:{watchlist:!1,already_watched:!0,watching_date:"2022-11-26T16:12:32.554Z",favorite:!1}},{id:"d9ee14cd-c0ca-4eab-8088-2219a0dbdc004",comments:["d9ee14cd-c0ca-4eab-8088-2219a0dbdc04"],film_info:{title:"A Little Pony Without The Carpet",alternative_title:"Laziness Who Sold Themselves",description:"Oscar-winning film, a war drama about two young people, from the creators of timeless classic Nu Pogodi! and Alice in Wonderland, with the best fight scenes since Bruce Lee.",total_rating:5.3,poster:"images/posters/santa-claus-conquers-the-martians.jpg",age_rating:0,director:"Tom Ford",writers:["Takeshi Kitano"],actors:["Morgan Freeman"],genre:["Comedy"],duration:77,release:{date:"2019-05-11T00:00:00.000Z",release_country:"Finland"}},user_details:{watchlist:!1,already_watched:!0,watching_date:"2022-11-26T16:12:32.554Z",favorite:!1}},{id:"d9ee14cd-c0ca-4eab-8088-2219a0dbdc005",comments:["d9ee14cd-c0ca-4eab-8088-2219a0dbdc05"],film_info:{title:"A Little Pony Without The Carpet",alternative_title:"Laziness Who Sold Themselves",description:"Oscar-winning film, a war drama about two young people, from the creators of timeless classic Nu Pogodi! and Alice in Wonderland, with the best fight scenes since Bruce Lee.",total_rating:5.3,poster:"images/posters/the-dance-of-life.jpg",age_rating:0,director:"Tom Ford",writers:["Takeshi Kitano"],actors:["Morgan Freeman"],genre:["Comedy"],duration:77,release:{date:"2019-05-11T00:00:00.000Z",release_country:"Finland"}},user_details:{watchlist:!1,already_watched:!0,watching_date:"2022-11-26T16:12:32.554Z",favorite:!1}},{id:"d9ee14cd-c0ca-4eab-8088-2219a0dbdc006",comments:["d9ee14cd-c0ca-4eab-8088-2219a0dbdc06"],film_info:{title:"A Little Pony Without The Carpet",alternative_title:"Laziness Who Sold Themselves",description:"Oscar-winning film, a war drama about two young people, from the creators of timeless classic Nu Pogodi! and Alice in Wonderland, with the best fight scenes since Bruce Lee.",total_rating:5.3,poster:"images/posters/the-man-with-the-golden-arm.jpg",age_rating:0,director:"Tom Ford",writers:["Takeshi Kitano"],actors:["Morgan Freeman"],genre:["Comedy"],duration:77,release:{date:"2019-05-11T00:00:00.000Z",release_country:"Finland"}},user_details:{watchlist:!1,already_watched:!0,watching_date:"2022-11-26T16:12:32.554Z",favorite:!1}}];class W{#v=new Set;addObserver(e){this.#v.add(e)}removeObserver(e){this.#v.delete(e)}_notify(e,t){this.#v.forEach((n=>n(e,t)))}}const H=document.querySelector(".header"),I=document.querySelector(".main"),Z=document.querySelector(".footer__statistics"),Y=document.querySelector("body"),z=new class extends W{#g=null;#y=null;constructor(){super(),this.#g=P,this.#y=F}get comments(){return this.#g}get movies(){return this.#y.map((e=>this.#w(e)))}#w(e){const t=e=>{const t={...e,releaseDate:null!==e.date?new Date(e.date):e.date,releaseCountry:e.release_country};return delete t.date,delete t.release_country,t},n={...e,filmInfo:(e=>{const n={...e,alternativeTitle:e.alternative_title,totalRating:e.total_rating,ageRating:e.age_rating,releaseData:t(e.release)};return delete n.alternative_title,delete n.total_rating,delete n.age_rating,delete n.release,n})(e.film_info),userDetails:(e=>{const t={...e,alreadyWatched:e.already_watched,watchingDate:null!==e.watching_date?new Date(e.watching_date):e.watching_date};return delete t.already_watched,delete t.watching_date,t})(e.user_details)};return delete n.film_info,delete n.user_details,n}},N=new class{#b=null;#C=null;#M=null;#r=null;#$=null;#D=new y;#A=new w;#T=new E;#S=new L;#k=new x;#j=new O;#L=new Map;#y=[];#E=5;constructor(e){let{moviesHeaderContainer:t,moviesMainContainer:n,moviesFooterStatisticsContainer:i,moviewsBodyContainer:a,movies:s}=e;this.#b=t,this.#C=n,this.#M=i,this.#r=a,this.#y=s}init(){v(this.#A,this.#b),v(this.#T,this.#C),v(this.#S,this.#C),this.#x(this.#y),this.#B(),v(this.#D,this.#M)}#x(e){if(e.length){v(this.#k,this.#C);for(let t=0;t<Math.min(e.length,5);t++)this.#O(e[t])}else this.#P()}#O(e){const t=new j({movieContainer:this.#k.getFilmCardContainer(),moviesBodyContainer:this.#r,onModeChange:this.#F});t.init(e),this.#L.set(e.id,t)}#P(){v(this.#j,this.#C)}#B(){this.#y.length>5&&(this.#$=new B({onClick:this.#W}),v(this.#$,this.#k.element))}#W=()=>{const e=this.#y.length,t=Math.min(e,this.#E+5),n=this.#y.slice(this.#E,t);this.#x(n),this.#E=t,this.#E>=e&&g(this.#$)};#F=()=>{this.#L.forEach((e=>e.resetView()))}}({moviesHeaderContainer:H,moviesMainContainer:I,moviesFooterStatisticsContainer:Z,moviewsBodyContainer:Y,movies:z.movies});N.init()})()})();
//# sourceMappingURL=bundle.dc31b56019e1eaea2f85.js.map